import dayjs from 'dayjs'
import { useState } from 'react'
import { Layout, Playground, Attributes } from 'lib/components'
import { Link, Text, Code, Spacer, DatePicker, Divider, Button } from 'components'
import { useDatePickerHandle } from 'components/date-picker'
import NextLink from 'next/link'

export const meta = {
  title: '日期选择框 Date-Picker',
  group: '数据录入',
}

## DatePicker / 日期选择框

输入或选择日期或时间。

<Playground
  desc="最简单的用法，在浮层中可以选择或者输入日期。"
  scope={{ DatePicker, Spacer }}
  code={`
() => {
  function onChange(date, dateString) {
    console.log(dateString, date);
  }
  return (
    <>
      <DatePicker locale="zh-CN" onChange={onChange} /><Spacer y={.5} />
      <DatePicker locale="zh-CN" onChange={onChange} picker="week" /><Spacer y={.5} />
      <DatePicker locale="zh-CN" onChange={onChange} picker="month" /><Spacer y={.5} />
      <DatePicker locale="zh-CN" onChange={onChange} picker="quarter" /><Spacer y={.5} />
      <DatePicker locale="zh-CN" onChange={onChange} picker="year" />
    </>
  )
}
`}
/>

<Playground
  title="预置样式"
  desc="通过定义 `variant` 或者 `color` props 来更新输入框类型和颜色样式。"
  scope={{ DatePicker, Spacer, Divider }}
  code={`
() => {
  const { RangePicker } = DatePicker
  return (
    <>
      <DatePicker locale="zh-CN" /><Spacer y={.5} />
      <DatePicker locale="zh-CN" color="primary" /><Spacer y={.5} />
      <DatePicker locale="zh-CN" color="error" /><Spacer y={.5} />
      <Divider />
      <DatePicker locale="zh-CN" variant="solid" /><Spacer y={.5} />
      <DatePicker locale="zh-CN" variant="solid" color="primary" /><Spacer y={.5} />
      <DatePicker locale="zh-CN" variant="solid" color="error" /><Spacer y={.5} />
      <Divider />
      <RangePicker locale="zh-CN" /><Spacer y={.5} />
      <RangePicker locale="zh-CN" color="primary" /><Spacer y={.5} />
      <RangePicker locale="zh-CN" color="error" /><Spacer y={.5} />
      <Divider />
      <RangePicker locale="zh-CN" variant="solid" /><Spacer y={.5} />
      <RangePicker locale="zh-CN" variant="solid" color="primary" /><Spacer y={.5} />
      <RangePicker locale="zh-CN" variant="solid" color="error" />
    </>
  )
}
`}
/>

<Playground
  title="范围选择器"
  desc="通过设置 `picker` 属性，指定范围选择器类型。"
  scope={{ DatePicker, Spacer }}
  code={`
() => {
  const { RangePicker } = DatePicker
  return (
    <>
      <RangePicker locale="zh-CN" />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" showTime />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" picker="week" />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" picker="month" />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" picker="quarter" />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" picker="year" />
    </>
  )
}
`}
/>

<Playground
  title="日期格式"
  desc="使用 `format` 属性，可以自定义日期显示格式。"
  scope={{ DatePicker, Spacer, dayjs }}
  code={`
() => {
  const { RangePicker } = DatePicker
  const dateFormat = 'YYYY/MM/DD'
  const monthFormat = 'YYYY/MM'
  const dateFormatList = ['DD/MM/YYYY', 'DD/MM/YY']
  return (
    <>
      <DatePicker locale="zh-CN" defaultValue={dayjs('2020/01/01', dateFormat)} format={dateFormat} />
      <Spacer y={0.5} />
      <DatePicker locale="zh-CN" defaultValue={dayjs('01/01/2020', dateFormatList[0])} format={dateFormatList} />
      <Spacer y={0.5} />
      <DatePicker locale="zh-CN" defaultValue={dayjs('2020/01', monthFormat)} format={monthFormat} picker="month" />
      <Spacer y={0.5} />
      <RangePicker
        locale="zh-CN"
        defaultValue={[dayjs('2020/01/01', dateFormat), dayjs('2015/01/01', dateFormat)]}
        format={dateFormat}
      />
    </>
  )
}
`}
/>

<Playground
  title="日期时间选择"
  desc="增加选择时间功能，当 `showTime` 为一个对象时，其属性会传递给内建的 `TimePicker`。"
  scope={{ DatePicker, Spacer }}
  code={`
() => {
  const { RangePicker } = DatePicker
  function onChange(value, dateString) {
    console.log('Selected Time: ', value)
    console.log('Formatted Selected Time: ', dateString)
  }
  function onOk(value) {
    console.log('onOk: ', value)
  }
  return (
    <>
      <DatePicker locale="zh-CN" showTime onChange={onChange} onOk={onOk} />
      <Spacer y={0.5} />
      <RangePicker
        locale="zh-CN"
        showTime={{ format: 'HH:mm' }}
        format="YYYY-MM-DD HH:mm"
        onChange={onChange}
        onOk={onOk}
      />
    </>
  )
}
`}
/>

<Playground
  title="禁用"
  desc="让选择框不可用或只读。可以通过数组单独禁用 RangePicker 的其中一项。"
  scope={{ DatePicker, Spacer, dayjs }}
  code={`
() => {
  const { RangePicker } = DatePicker
  const dateFormat = 'YYYY-MM-DD'
  return (
    <>
      <DatePicker locale="zh-CN" defaultValue={dayjs('2020-06-06', dateFormat)} disabled />
      <Spacer y={0.5} />
      <DatePicker locale="zh-CN" defaultValue={dayjs('2020-06-06', dateFormat)} variant="solid" disabled />
      <Spacer y={0.5} />
      <DatePicker locale="zh-CN" defaultValue={dayjs('2020-06-06', dateFormat)} inputReadOnly allowClear={false} />
      <Spacer y={0.5} />
      <DatePicker locale="zh-CN" defaultValue={dayjs('2020-06-06', dateFormat)} variant="solid" inputReadOnly allowClear={false} />
      <Spacer y={0.5} />
      <DatePicker
        locale="zh-CN"
        picker="month"
        defaultValue={dayjs('2020-06', 'YYYY-MM')}
        disabled
      />
      <Spacer y={0.5} />
      <RangePicker
        locale="zh-CN"
        defaultValue={[dayjs('2020-06-06', dateFormat), dayjs('2020-06-06', dateFormat)]}
        disabled
      />
      <Spacer y={0.5} />
      <RangePicker
        locale="zh-CN"
        defaultValue={[dayjs('2020-09-01', dateFormat), dayjs('2020-10-10', dateFormat)]}
        disabled={[false, true]}
      />
    </>
  )
}
`}
/>

<Playground
  title="不可选择日期和时间"
  desc="可用 `disabledDate` 和 `disabledTime` 分别禁止选择部分日期和时间，其中 `disabledTime` 需要和 `showTime` 一起使用。"
  scope={{ DatePicker, Spacer, dayjs }}
  code={`
() => {
  const { RangePicker } = DatePicker
  function range(start, end) {
    const result = []
    for (let i = start; i < end; i++) {
      result.push(i)
    }
    return result
  }
  function disabledDate(current) {
    // Can not select days before today and today
    return current && current < dayjs().endOf('day')
  }
  function disabledDateTime() {
    return {
      disabledHours: () => range(0, 24).splice(4, 20),
      disabledMinutes: () => range(30, 60),
      disabledSeconds: () => [55, 56],
    }
  }
  function disabledRangeTime(_, type) {
    if (type === 'start') {
      return {
        disabledHours: () => range(0, 60).splice(4, 20),
        disabledMinutes: () => range(30, 60),
        disabledSeconds: () => [55, 56],
      }
    }
    return {
      disabledHours: () => range(0, 60).splice(20, 4),
      disabledMinutes: () => range(0, 31),
      disabledSeconds: () => [55, 56],
    }
  }
  return (
    <>
      <DatePicker
        locale="zh-CN"
        format="YYYY-MM-DD HH:mm:ss"
        disabledDate={disabledDate}
        disabledTime={disabledDateTime}
        showTime={{ defaultValue: dayjs('00:00:00', 'HH:mm:ss') }}
      />
      <Spacer y={0.5} />
      <DatePicker locale="zh-CN" picker="month" disabledDate={disabledDate} />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" disabledDate={disabledDate} />
      <Spacer y={0.5} />
      <RangePicker
        locale="zh-CN"
        disabledDate={disabledDate}
        disabledTime={disabledRangeTime}
        showTime={{
          hideDisabledOptions: true,
          defaultValue: [dayjs('00:00:00', 'HH:mm:ss'), dayjs('11:59:59', 'HH:mm:ss')],
        }}
        format="YYYY-MM-DD HH:mm:ss"
      />
    </>
  )
}
`}
/>

<Playground
  title="选择不超过七天的范围"
  desc="这里举例如何用 `onCalendarChange` 和 `disabledDate` 来限制动态的日期区间选择。"
  scope={{ DatePicker, useState }}
  code={`
() => {
  const { RangePicker } = DatePicker;
  const [dates, setDates] = useState([]);
  const disabledDate = current => {
    if (!dates || dates.length === 0) {
      return false;
    }
    const tooLate = dates[0] && current.diff(dates[0], 'days') > 7;
    const tooEarly = dates[1] && dates[1].diff(current, 'days') > 7;
    return tooEarly || tooLate;
  };
  return (
    <RangePicker
      locale="zh-CN"
      disabledDate={disabledDate}
      onCalendarChange={value => {
        setDates(value);
      }}
    />
  );
}
`}
/>

<Playground
  title="预设范围"
  desc="可以预设常用的日期范围以提高用户体验。"
  scope={{ DatePicker, Spacer, dayjs }}
  code={`
() => {
  const { RangePicker } = DatePicker;
  function onChange(dates, dateStrings) {
    if(dates) console.log('From: ', dates[0], ', to: ', dates[1])
    if(dateStrings) console.log('From: ', dateStrings[0], ', to: ', dateStrings[1])
  }
  return (
    <>
      <RangePicker
        locale="zh-CN"
        ranges={{
          '今天': [dayjs(), dayjs()],
          '本月': [dayjs().startOf('month'), dayjs().endOf('month')],
        }}
        onChange={onChange}
      />
      <Spacer y={0.5} />
      <RangePicker
        locale="zh-CN"
        ranges={{
          '今天': [dayjs().startOf('day'), dayjs().endOf('day')],
          '本月': [dayjs().startOf('month'), dayjs().endOf('month')],
        }}
        showTime
        format="YYYY/MM/DD HH:mm:ss"
        onChange={onChange}
      />
    </>
  )
}
`}
/>

<Playground
  title="额外的页脚"
  desc="在浮层中加入额外的页脚，以满足某些定制信息的需求。"
  scope={{ DatePicker, Spacer }}
  code={`
() => {
  const { RangePicker } = DatePicker
  return (
    <>
      <DatePicker locale="zh-CN" renderExtraFooter={() => '页脚，么么哒'} />
      <Spacer y={0.5} />
      <DatePicker locale="zh-CN" renderExtraFooter={() => '页脚，么么哒'} showTime />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" renderExtraFooter={() => '页脚，么么哒'} />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" renderExtraFooter={() => '页脚，么么哒'} showTime />
      <Spacer y={0.5} />
      <DatePicker locale="zh-CN" renderExtraFooter={() => '页脚，么么哒'} picker="month" />
    </>
  )
}
`}
/>

<Playground
  title="四种大小"
  desc="四种大小的输入框，若不设置，则为 `medium`。"
  scope={{ DatePicker, Spacer, Divider }}
  code={`
() => {
  const { RangePicker } = DatePicker
  return (
    <>
      <DatePicker locale="zh-CN" size="mini" />
      <Spacer y={0.5} />
      <DatePicker locale="zh-CN" size="mini" showTime />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" size="mini" />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" size="mini" showTime />
      <Divider />
      <DatePicker locale="zh-CN" size="small" />
      <Spacer y={0.5} />
      <DatePicker locale="zh-CN" size="small" showTime />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" size="small" />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" size="small" showTime />
      <Divider />
      <DatePicker locale="zh-CN" size="medium" />
      <Spacer y={0.5} />
      <DatePicker locale="zh-CN" size="medium" showTime />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" size="medium" />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" size="medium" showTime />
      <Divider />
      <DatePicker locale="zh-CN" size="large" />
      <Spacer y={0.5} />
      <DatePicker locale="zh-CN" size="large" showTime />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" size="large" />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" size="large" showTime />
    </>
  )
}
`}
/>

<Playground
  title="定制日期单元格"
  desc="使用 `dateRender` 可以自定义日期单元格的内容和样式。"
  scope={{ DatePicker, Spacer }}
  code={`
() => {
  const { RangePicker } = DatePicker
  return (
    <>
      <DatePicker
        locale="zh-CN"
        dateRender={current => {
          const style = {};
          if (current.date() === 1) {
            style.border = '1px solid red';
            style.borderRadius = '50%';
          }
          return (
            <div className="cfx-picker-cell-inner" style={style}>
              {current.date()}
            </div>
          );
        }}
      />
      <Spacer x={0.5} />
      <RangePicker
        locale="zh-CN"
        dateRender={current => {
          const style = {};
          if (current.date() === 1) {
            style.border = '1px solid red';
            style.borderRadius = '50%';
          }
          return (
            <div className="cfx-picker-cell-inner" style={style}>
              {current.date()}
            </div>
          );
        }}
      />
    </>
  )
}
`}
/>

<Playground
  title="无边框"
  desc="无边框样式。"
  scope={{ DatePicker, Spacer }}
  code={`
() => {
  const { RangePicker } = DatePicker
  return (
    <>
      <DatePicker locale="zh-CN" bordered={false} />
      <Spacer y={0.5} />
      <DatePicker locale="zh-CN" picker="week" bordered={false} />
      <Spacer y={0.5} />
      <DatePicker locale="zh-CN" picker="month" bordered={false} />
      <Spacer y={0.5} />
      <DatePicker locale="zh-CN" picker="year" bordered={false} />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" bordered={false} />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" picker="week" bordered={false} />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" picker="month" bordered={false} />
      <Spacer y={0.5} />
      <RangePicker locale="zh-CN" picker="year" bordered={false} />
    </>
  )
}
`}
/>

<Spacer y={3} />

### TimePicker / 时间选择框

<Playground
  desc="点击 TimePicker，然后可以在浮层中选择或者输入某一时间。"
  scope={{ DatePicker, dayjs, Spacer }}
  code={`
() => {
  const { TimePicker } = DatePicker
  function onChange(time, timeString) {
    console.log(timeString, time)
  }
  return (
    <TimePicker locale="zh_CN" onChange={onChange} />
  )
}
`}
/>

<Playground
  title="受控组件"
  desc="`value` 和 `onChange` 需要配合使用。"
  scope={{ DatePicker, useState, Spacer }}
  code={`
() => {
  const { TimePicker } = DatePicker
  const [value, setValue] = useState(null)
  const onChange = time => {
    setValue(time)
  }
  return <TimePicker locale="zh_CN" value={value} onChange={onChange} />
}
`}
/>

<Playground
  title="四种大小"
  desc="四种大小的输入框，若不设置，则为 `medium`。"
  scope={{ DatePicker, Spacer, Divider }}
  code={`
() => {
  const { TimePicker } = DatePicker
  return (
    <>
      <TimePicker locale="zh-CN" size="mini" />
      <Spacer y={0.5} />
      <TimePicker locale="zh-CN" size="small" />
      <Spacer y={0.5} />
      <TimePicker locale="zh-CN" size="medium" />
      <Spacer y={0.5} />
      <TimePicker locale="zh-CN" size="large" />
    </>
  )
}
`}
/>

<Playground
  title="禁用"
  desc="禁用时间选择。"
  scope={{ DatePicker, Spacer, dayjs }}
  code={`
() => {
  const { TimePicker } = DatePicker
  return <TimePicker locale="zh-CN" defaultValue={dayjs('12:00:00', 'HH:mm:ss')} disabled />
}
`}
/>

<Playground
  title="选择时分"
  desc="TimePicker 浮层中的列会随着 `format` 变化，当略去 `format` 中的某部分时，浮层中对应的列也会消失。"
  scope={{ DatePicker, Spacer, dayjs }}
  code={`
() => {
  const { TimePicker } = DatePicker
  const format = 'HH:mm'
  return <TimePicker locale="zh_CN" defaultValue={dayjs('12:00', format)} format={format} />
}
`}
/>

<Playground
  title="步长选项"
  desc="可以使用 `hourStep` `minuteStep` `secondStep` 按步长展示可选的时分秒。"
  scope={{ DatePicker, Spacer, dayjs }}
  code={`
() => {
  const { TimePicker } = DatePicker
  return <TimePicker locale="zh_CN" minuteStep={15} secondStep={10} />
}
`}
/>

<Playground
  title="附加内容"
  desc="在 TimePicker 选择框底部显示自定义的内容。"
  scope={{ DatePicker, Spacer, useState, Button }}
  code={`
() => {
  const { TimePicker } = DatePicker
  const [open, setOpen] = useState(false)
  const handleOpenChange = open => setOpen(open)
  const handleClose = () => setOpen(false)
  return (
    <TimePicker
      locale="zh_CN"
      open={open}
      onOpenChange={handleOpenChange}
      renderExtraFooter={() => (
        <Button size="small" onClick={handleClose}>
          关闭
        </Button>
      )}
    />
  )
}
`}
/>

<Playground
  title="12 小时制"
  desc="12 小时制的时间选择器，默认的 format 为 `h:mm:ss a`。"
  scope={{ DatePicker, Spacer, dayjs }}
  code={`
() => {
  const { TimePicker } = DatePicker
  function onChange(time, timeString) {
    console.log(timeString, time)
  }
  return (
    <>
      <TimePicker locale="zh_CN" use12Hours onChange={onChange} />
      <Spacer y={0.5} />
      <TimePicker
        locale="zh_CN"
        use12Hours
        format="h:mm:ss A"
        onChange={onChange}
        style={{ width: 140 }}
      />
      <Spacer y={0.5} />
      <TimePicker locale="zh_CN" use12Hours format="h:mm a" onChange={onChange} />
    </>
  )
}
`}
/>

<Playground
  title="范围选择器"
  desc="通过 `RangePicker` 使用时间范围选择器。"
  scope={{ DatePicker, Spacer, dayjs }}
  code={`
() => {
  const { RangePicker } = DatePicker
  return <RangePicker picker="time" locale="zh_CN" />
}
`}
/>

<Playground
  title="无边框"
  desc="无边框样式。"
  scope={{ DatePicker, Spacer, dayjs }}
  code={`
() => {
  const { TimePicker } = DatePicker
  const { RangePicker } = DatePicker
  return (
    <>
      <TimePicker locale="zh_CN" bordered={false} />
      <Spacer y={0.5} />
      <RangePicker locale="zh_CN" picker="time" bordered={false} />
    </>
  )
}
`}
/>

<Playground
  title="命令式 API"
  desc="使用非受控方式更新组件。"
  scope={{ DatePicker, Spacer, Button, dayjs, Divider }}
  code={`
() => {
  const { RangePicker } = DatePicker
  const ref = React.useRef(null)
  const ref2 = React.useRef(null)
  const setChange = () => {
    console.log(ref)
    ref.current.setValue(dayjs())
    ref.current.focus()
    setTimeout(() => {
      console.log(ref.current.getValue())
    }, 0)
  }
  const setChange2 = () => {
    console.log(ref2)
    ref2.current.setValue([dayjs().add(-2, 'days'), dayjs()])
    ref2.current.focus()
    setTimeout(() => {
      console.log(ref2.current.getValue())
    }, 0)
  }
  return (
    <>
      <DatePicker key="ref1" locale="zh_CN" onChange={value => console.log(value)} ref={ref} showTime />
      <Spacer y={0.5} />
      <Button auto type="secondary" size="small" onClick={setChange}>
        设置值并聚焦
      </Button>
      <Divider />
      <RangePicker key="ref2" locale="zh_CN" onChange={value => console.log(value)} ref={ref2} showTime />
      <Spacer y={0.5} />
      <Button auto type="secondary" size="small" onClick={setChange2}>
        设置值并聚焦
      </Button>
    </>
  )
}
`}
/>

<Playground
  title="使用 `UseDatePickerHandle`"
  desc="使用 `hooks` 捕获日期选择框的变化。"
  scope={{ DatePicker, Spacer, Button, dayjs, Divider, useDatePickerHandle }}
  code={`
() => {
  const { RangePicker } = DatePicker
  const { ref, setValue, getValue, focus, blur } = useDatePickerHandle()
  const { ref: ref2, setValue: setValue2, getValue: getValue2, focus: focus2, blur: blur2 } = useDatePickerHandle()
  const setChange = () => {
    console.log(ref)
    setValue(dayjs())
    focus()
    setTimeout(() => {
      console.log(getValue())
    }, 0)
  }
  const setChange2 = () => {
    console.log(ref2)
    setValue2([dayjs().add(-2, 'days'), dayjs()])
    focus2()
    setTimeout(() => {
      console.log(getValue2())
    }, 0)
  }
  return (
    <>
      <DatePicker key="ref1" locale="zh_CN" onChange={value => console.log(value)} ref={ref} showTime />
      <Spacer y={0.5} />
      <Button auto type="secondary" size="small" onClick={setChange}>
        设置值并聚焦
      </Button>
      <Divider />
      <RangePicker key="ref2" locale="zh_CN" onChange={value => console.log(value)} ref={ref2} showTime />
      <Spacer y={0.5} />
      <Button auto type="secondary" size="small" onClick={setChange2}>
        设置值并聚焦
      </Button>
    </>
  )
}
`}
/>

<Attributes edit="/pages/zh-cn/components/date-picker.mdx">

日期类组件包括以下六种形式。

- DatePicker
- DatePicker\[picker="time"]
- DatePicker\[picker="month"]
- DatePicker\[picker="week"]
- DatePicker\[picker="year"]
- DatePicker\[picker="quarter"]
- RangePicker

<Spacer y={2} />

<Attributes.Title>共同的 Props</Attributes.Title>

| 属性                  | 描述                                             | 类型                                                            | 推荐值                                                        | 默认      |
| --------------------- | ------------------------------------------------ | --------------------------------------------------------------- | ------------------------------------------------------------- | --------- |
| **variant**           | 输入框的类型                                     | `string`                                                        | `solid` \| `line`                                             | `line`    |
| **color**             | 输入框颜色                                       | `NormalTypes`                                                   | `default` \| `secondary` \| `success` \| `warning` \| `error` | `default` |
| **size**              | 输入框大小                                       | `string`                                                        | `large` \| `medium` \| `small` \| `mini`                      | `medium`  |
| **allowClear**        | 是否显示清除按钮                                 | `boolean`                                                       | -                                                             | `true`    |
| **autoFocus**         | 自动获取焦点                                     | `boolean`                                                       | -                                                             | `false`   |
| **className**         | 额外 className                                   | `string`                                                        | -                                                             | -         |
| **dateRender**        | 自定义日期单元格的内容                           | `function(currentDate: dayjs, today: dayjs) => React.ReactNode` | -                                                             | -         |
| **disabled**          | 禁用                                             | `boolean`                                                       | -                                                             | `false`   |
| **disabledDate**      | 不可选择的日期                                   | `(currentDate: dayjs) => boolean`                               | -                                                             | -         |
| **dropdownClassName** | 弹出日历的额外 className                         | `string`                                                        | -                                                             | -         |
| **getPopupContainer** | 定义浮层的容器，默认为 body 上新建 div           | `function(trigger)`                                             | -                                                             | -         |
| **locale**            | 国际化配置                                       | `string`                                                        | `en-US` \| `zh-CN`                                            | `en-US`   |
| **mode**              | 日期面板的模式                                   | `string`                                                        | `time` \| `date` \| `month` \| `year` \| `decade`             | -         |
| **open**              | 控制弹层是否展开                                 | `boolean`                                                       | -                                                             | `false`   |
| **panelRender**       | 自定义渲染面板                                   | `(panelNode) => ReactNode`                                      | -                                                             | -         |
| **picker**            | 设置选择器类型                                   | `string`                                                        | `date` \| `week` \| `month` \| `quarter` \| `year`            | `date`    |
| **placeholder**       | 输入框提示文字                                   | `string` \| `[string, string]`                                  | -                                                             | -         |
| **popupStyle**        | 额外的弹出日历样式                               | `CSSProperties`                                                 | -                                                             | {}        |
| **bordered**          | 是否有边框                                       | `boolean`                                                       | -                                                             | `true`    |
| **suffixIcon**        | 自定义的选择框后缀图标                           | `ReactNode`                                                     | -                                                             | -         |
| **style**             | 自定义输入框样式，如宽度，高度等                 | `CSSProperties`                                                 | {}                                                            | -         |
| **onOpenChange**      | 弹出日历和关闭日历的回调                         | `function(open)`                                                | -                                                             | -         |
| **onPanelChange**     | 日历面板切换的回调                               | `function(value, mode)`                                         | -                                                             | -         |
| **inputReadOnly**     | 设置输入框为只读（避免在移动设备上打开虚拟键盘） | `boolean`                                                       | -                                                             | `false`   |

<Attributes.Title>DatePicker Props</Attributes.Title>

| 属性                      | 描述                                                                                           | 类型                                        | 推荐值 | 默认                            |
| ------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------------- | ------ | ------------------------------- |
| **defaultValue**          | 默认日期，如果开始时间或结束时间为 `null` 或者 `undefined`，日期范围将是一个开区间             | [dayjs](https://day.js.org/)                | -      | -                               |
| **defaultPickerValue**    | 默认面板日期                                                                                   | [dayjs](https://day.js.org/)                | -      | -                               |
| **disabledTime**          | 不可选择的时间                                                                                 | `function(date)`                            | -      | -                               |
| **format**                | 设置日期格式，为数组时支持多格式匹配，展示以第一个为准。配置参考 [day.js](https://day.js.org/) | `string` \| `string[]`                      | -      | `YYYY-MM-DD`                    |
| **renderExtraFooter**     | 在面板中添加额外的页脚                                                                         | `(mode) => React.ReactNode`                 | -      | -                               |
| **showTime**              | 增加时间选择功能                                                                               | `Object` \| `boolean`                       | -      | `DatePicker[picker=time] Props` |
| **showTime**.defaultValue | 设置用户选择日期时默认的时分秒                                                                 | [dayjs](https://day.js.org/)                | -      | `dayjs()`                       |
| **showToday**             | 是否展示“今天”按钮                                                                             | `boolean`                                   | -      | `true`                          |
| **value**                 | 日期                                                                                           | [dayjs](https://day.js.org/)                | -      | -                               |
| **onChange**              | 时间发生变化的回调                                                                             | `function(date: dayjs, dateString: string)` | -      | -                               |
| **onOk**                  | 点击确定按钮的回调                                                                             | `function()`                                | -      | -                               |
| **onPanelChange**         | 日期面板变化时的回调                                                                           | `function(value, mode)`                     | -      | -                               |
| **showNow**               | 当设定了 `showTime` 的时候，面板是否显示“此刻”按钮                                             | `boolean`                                   | -      | -                               |

<Attributes.Title>DatePicker[picker=time] Props</Attributes.Title>

| 属性                    | 描述                                                   | 类型                                              | 推荐值 | 默认       |
| ----------------------- | ------------------------------------------------------ | ------------------------------------------------- | ------ | ---------- |
| **defaultValue**        | 默认时间                                               | [dayjs](https://day.js.org/)                      | -      | -          |
| **disabledHours**       | 禁止选择部分小时选项                                   | `function()`                                      | -      | -          |
| **disabledMinutes**     | 禁止选择部分分钟选项                                   | `function(selectedHour)`                          | -      | -          |
| **disabledSeconds**     | 禁止选择部分秒选项                                     | `function(selectedHour, selectedMinute)`          | -      | -          |
| **format**              | 展示的时间格式                                         | `string`                                          | -      | `HH:mm:ss` |
| **hideDisabledOptions** | 隐藏禁止选择的选项                                     | `boolean`                                         | -      | `false`    |
| **hourStep**            | 小时选项间隔                                           | `number`                                          | -      | `1`        |
| **minuteStep**          | 分钟选项间隔                                           | `number`                                          | -      | `1`        |
| **secondStep**          | 秒选项间隔                                             | `number`                                          | -      | `1`        |
| **renderExtraFooter**   | 选择框底部显示自定义的内容                             | `() => ReactNode`                                 | -      | -          |
| **use12Hours**          | 使用 12 小时制，为 true 时 `format` 默认为 `h:mm:ss a` | `boolean`                                         | -      | `false`    |
| **value**               | 当前时间                                               | [dayjs](https://day.js.org/)                      | -      | -          |
| **onChange**            | 时间发生变化的回调                                     | `function(time: dayjs, timeString: string): void` | -      | -          |
| **onOpenChange**        | 面板打开/关闭时的回调                                  | `(open: boolean) => void`                         | -      | -          |
| **showNow**             | 面板是否显示“此刻”按钮                                 | `boolean`                                         | -      | -          |

<Attributes.Title>DatePicker[picker=year] Props</Attributes.Title>

| 属性                   | 描述                                                   | 类型                                        | 推荐值 | 默认   |
| ---------------------- | ------------------------------------------------------ | ------------------------------------------- | ------ | ------ |
| **defaultValue**       | 默认日期                                               | [dayjs](https://day.js.org/)                | -      | -      |
| **defaultPickerValue** | 默认面板日期                                           | [dayjs](https://day.js.org/)                | -      | -      |
| **format**             | 展示的日期格式，配置参考 [day.js](https://day.js.org/) | `string`                                    | -      | `YYYY` |
| **renderExtraFooter**  | 在面板中添加额外的页脚                                 | `() => React.ReactNode`                     | -      | -      |
| **value**              | 日期                                                   | [dayjs](https://day.js.org/)                | -      | -      |
| **onChange**           | 时间发生变化的回调，发生在用户选择时间时               | `function(date: dayjs, dateString: string)` | -      | -      |

<Attributes.Title>DatePicker[picker=quarter] Props</Attributes.Title>

| 属性                   | 描述                                                   | 类型                                        | 推荐值 | 默认       |
| ---------------------- | ------------------------------------------------------ | ------------------------------------------- | ------ | ---------- |
| **defaultValue**       | 默认日期                                               | [dayjs](https://day.js.org/)                | -      |            |
| **defaultPickerValue** | 默认面板日期                                           | [dayjs](https://day.js.org/)                | -      | -          |
| **format**             | 展示的日期格式，配置参考 [day.js](https://day.js.org/) | `string`                                    | -      | `YYYY-\QQ` |
| **renderExtraFooter**  | 在面板中添加额外的页脚                                 | `() => React.ReactNode`                     | -      | -          |
| **value**              | 日期                                                   | [dayjs](https://day.js.org/)                | -      | -          |
| **onChange**           | 时间发生变化的回调，发生在用户选择时间时               | `function(date: dayjs, dateString: string)` | -      | -          |

<Attributes.Title>DatePicker[picker=month] Props</Attributes.Title>

| 属性                   | 描述                                                   | 类型                                        | 推荐值 | 默认      |
| ---------------------- | ------------------------------------------------------ | ------------------------------------------- | ------ | --------- |
| **defaultValue**       | 默认日期                                               | [dayjs](https://day.js.org/)                | -      | -         |
| **defaultPickerValue** | 默认面板日期                                           | [dayjs](https://day.js.org/)                | -      | -         |
| **format**             | 展示的日期格式，配置参考 [day.js](https://day.js.org/) | `string`                                    | -      | `YYYY-MM` |
| **monthCellRender**    | 自定义的月份内容渲染方法                               | `function(date, locale): ReactNode`         | -      | -         |
| **renderExtraFooter**  | 在面板中添加额外的页脚                                 | `() => React.ReactNode`                     | -      | -         |
| **value**              | 日期                                                   | [dayjs](https://day.js.org/)                | -      | -         |
| **onChange**           | 时间发生变化的回调，发生在用户选择时间时               | `function(date: dayjs, dateString: string)` | -      | -         |

<Attributes.Title>DatePicker[picker=week] Props</Attributes.Title>

| 属性                   | 描述                                                   | 类型                                        | 推荐值 | 默认      |
| ---------------------- | ------------------------------------------------------ | ------------------------------------------- | ------ | --------- |
| **defaultValue**       | 默认日期                                               | [dayjs](https://day.js.org/)                | -      | -         |
| **defaultPickerValue** | 默认面板日期                                           | [dayjs](https://day.js.org/)                | -      | -         |
| **format**             | 展示的日期格式，配置参考 [day.js](https://day.js.org/) | `string`                                    | -      | `YYYY-wo` |
| **renderExtraFooter**  | 在面板中添加额外的页脚                                 | `(mode) => React.ReactNode`                 | -      | -         |
| **value**              | 日期                                                   | [dayjs](https://day.js.org/)                | -      | -         |
| **onChange**           | 时间发生变化的回调，发生在用户选择时间时               | `function(date: dayjs, dateString: string)` | -      | -         |

<Attributes.Title>RangePicker Props</Attributes.Title>

| 属性                      | 描述                           | 类型                                                                                           | 推荐值                | 默认                            |
| ------------------------- | ------------------------------ | ---------------------------------------------------------------------------------------------- | --------------------- | ------------------------------- |
| **allowEmpty**            | 允许起始项部分为空             | `[boolean, boolean]`                                                                           | -                     | `[false, false]`                |
| **dateRender**            | 自定义日期单元格的内容         | `function(currentDate: dayjs, today: dayjs, info: { range: start / end }) => React.ReactNode`  | -                     | -                               |
| **defaultValue**          | 默认日期                       | `dayjs[]`                                                                                      | -                     | -                               |
| **defaultPickerValue**    | 默认面板日期                   | `dayjs[]`                                                                                      | -                     | -                               |
| **disabled**              | 禁用起始项                     | `[boolean, boolean]`                                                                           | -                     | -                               |
| **disabledTime**          | 不可选择的时间                 | `function(dates: [dayjs, dayjs], partial: start / end)`                                        | -                     | -                               |
| **format**                | 展示的日期格式                 | `string`                                                                                       | `YYYY-MM-DD HH:mm:ss` | -                               |
| **ranges**                | 预设时间范围快捷选择           | `{ [range: string]: dayjs[] }` \| `{ [range: string]: () => dayjs[] }`                         | -                     | -                               |
| **renderExtraFooter**     | 在面板中添加额外的页脚         | `() => React.ReactNode`                                                                        | -                     | -                               |
| **separator**             | 设置分隔符                     | `string`                                                                                       | -                     | `~`                             |
| **showTime**              | 增加时间选择功能               | `Object` \| `boolean`                                                                          | -                     | `DatePicker[picker=time] Props` |
| **showTime**.defaultValue | 设置用户选择日期时默认的时分秒 | `dayjs[]`                                                                                      | -                     | `[dayjs(), dayjs()]`            |
| **value**                 | 日期                           | `dayjs[]`                                                                                      | -                     | -                               |
| **onCalendarChange**      | 待选日期发生变化的回调         | `function(dates: [dayjs, dayjs], dateStrings: [string, string], info: { range: start / end })` | -                     | -                               |
| **onChange**              | 日期范围发生变化的回调         | `function(dates: [dayjs, dayjs], dateStrings: [string, string])`                               | -                     | -                               |

<Attributes.Title>共同的方法</Attributes.Title>

| 名称           | 描述     | 参数                 | 返回值               |
| -------------- | -------- | -------------------- | -------------------- |
| **blur()**     | 移除焦点 | -                    | -                    |
| **focus()**    | 获取焦点 | -                    | -                    |
| **setValue()** | 设置值   | `dayjs` \| `dayjs[]` \| `null` | -                    |
| **getValue()** | 获取值   | -                    | `dayjs` \| `dayjs[]` \| `null` |

<Attributes.Title>useDatePickerHandle</Attributes.Title>

```ts
type useDatePickerHandle = () => {
  ref: React.RefObject<PickerRefConfig<Dayjs>>
  setValue: (value: DateType | null | RangeValue<DateType>) => void
  getValue: () => DateType | null | RangeValue<DateType>
  focus: () => void
  blur: () => void
}
```

</Attributes>

export default ({ children }) => <Layout meta={meta}>{children}</Layout>
